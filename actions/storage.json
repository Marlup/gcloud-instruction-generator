{
  "Buckets": {
    "üîé Consulta": {
      "Listar buckets": {
        "cmd": "gcloud storage buckets list",
        "params": []
      },
      "Describir bucket": {
        "cmd": "gcloud storage buckets describe {bucket}",
        "params": ["bucket"]
      }
    },
    "üì§ Creaci√≥n": {
      "Crear bucket": {
        "cmd": "gcloud storage buckets create {bucket} --location={region} --default-storage-class={storage_class}",
        "params": ["bucket", "region", "storage_class"]
      }
    },
    "üìù Modificaci√≥n": {
      "Actualizar etiquetas bucket": {
        "cmd": "gcloud storage buckets update {bucket} --update-labels={labels}",
        "params": ["bucket", "labels"]
      },
      "Eliminar etiquetas bucket": {
        "cmd": "gcloud storage buckets update {bucket} --remove-labels={labels}",
        "params": ["bucket", "labels"]
      }
    },
    "‚ùå Eliminaci√≥n": {
      "Borrar bucket": {
        "cmd": "gcloud storage buckets delete {bucket}",
        "params": ["bucket"]
      },
      "Borrar bucket forzado": {
        "cmd": "gcloud storage buckets delete {bucket} --force",
        "params": ["bucket"]
      }
    },
    "üîê Seguridad": {
      "Bloquear retenci√≥n": {
        "cmd": "gcloud storage buckets update {bucket} --lock-retention-policy",
        "params": ["bucket"]
      },
      "Bloquear acceso p√∫blico": {
        "cmd": "gcloud storage buckets update {bucket} --public-access-prevention=enforced",
        "params": ["bucket"]
      },
      "Desbloquear acceso p√∫blico": {
        "cmd": "gcloud storage buckets update {bucket} --public-access-prevention=unspecified",
        "params": ["bucket"]
      }
    },
    "‚öôÔ∏è Configuraci√≥n": {
      "Configurar lifecycle": {
        "cmd": "gcloud storage buckets update {bucket} --lifecycle-file={lifecycle_file}",
        "params": ["bucket", "lifecycle_file"]
      },
      "Definir periodo de retenci√≥n": {
        "cmd": "gcloud storage buckets update {bucket} --retention-period={seconds}",
        "params": ["bucket", "seconds"]
      },
      "Activar acceso uniforme": {
        "cmd": "gcloud storage buckets update {bucket} --uniform-bucket-level-access",
        "params": ["bucket"]
      },
      "Activar versionado objetos": {
        "cmd": "gcloud storage buckets update {bucket} --versioning",
        "params": ["bucket"]
      },
      "Desactivar versionado objetos": {
        "cmd": "gcloud storage buckets update {bucket} --no-versioning",
        "params": ["bucket"]
      },
      "Configurar CORS": {
        "cmd": "gcloud storage buckets update {bucket} --cors-file={cors_file}",
        "params": ["bucket", "cors_file"]
      },
      "Habilitar logs de acceso": {
        "cmd": "gcloud storage buckets update {bucket} --enable-object-logging",
        "params": ["bucket"]
      },
      "Deshabilitar logs de acceso": {
        "cmd": "gcloud storage buckets update {bucket} --no-enable-object-logging",
        "params": ["bucket"]
      },
      "Cambiar clase almacenamiento por defecto": {
        "cmd": "gcloud storage buckets update {bucket} --default-storage-class={storage_class}",
        "params": ["bucket", "storage_class"]
      }
    }
  },
  
  
  "Objetos": {
    
    "üîé Consulta": {
      "Listar objetos": {
        "cmd": "gcloud storage ls gs://{bucket}/{prefix}",
        "params": ["bucket", "prefix"]
      },
      "Describir objeto": {
        "cmd": "gcloud storage objects describe {src}",
        "params": ["src"]
      },
      "Listar versiones objeto": {
        "cmd": "gcloud storage objects versions list gs://{bucket}/{prefix}",
        "params": ["bucket", "prefix"]
      },
      "Listar versiones con generaci√≥n": {
        "cmd": "gcloud storage ls gs://{bucket}/{object}#generation --all-versions",
        "params": ["bucket", "object"]
      }
    },
    "üì§ Transferencia": {
      "Subir objeto": {
        "cmd": "gcloud storage cp {local} {dest}",
        "params": ["local", "dest"]
      },
      "Descargar objeto": {
        "cmd": "gcloud storage cp {src} {local}",
        "params": ["src", "local"]
      },
      "Mover objeto": {
        "cmd": "gcloud storage mv {src} {dest}",
        "params": ["src", "dest"]
      },
      "Sincronizar carpetas": {
        "cmd": "gcloud storage rsync -r {local_dir} gs://{bucket}/{prefix}",
        "params": ["local_dir", "bucket", "prefix"]
      }
    },
    "üìù Modificaci√≥n": {
      "Actualizar metadatos objeto": {
        "cmd": "gcloud storage objects update {src} --content-type={mime} --metadata={metadata}",
        "params": ["src", "mime", "metadata"]
      },
      "Actualizar metadatos (borrar)": {
        "cmd": "gcloud storage objects update {src} --clear-metadata",
        "params": ["src"]
      },
      "Actualizar ACL objeto": {
        "cmd": "gcloud storage objects update {src} --add-acl-grant={grant}",
        "params": ["src", "grant"]
      },
      "Reescribir objeto con nueva clase": {
        "cmd": "gcloud storage rewrite {src} {dest} --storage-class={storage_class}",
        "params": ["src", "dest", "storage_class"]
      },
      "Reescribir objeto con nueva encriptaci√≥n": {
        "cmd": "gcloud storage rewrite {src} {dest} --encryption-key={key}",
        "params": ["src", "dest", "key"]
      }
    },
    "üì§ Recuperaci√≥n": {
      "Recuperar versi√≥n objeto": {
        "cmd": "gcloud storage cp {src_version} {dest}",
        "params": ["src_version", "dest"]
      }
    },
    "‚ùå Eliminaci√≥n": {
      "Borrar objeto": {
        "cmd": "gcloud storage rm {src}",
        "params": ["src"]
      }
    },
    "üîê Seguridad": {
      "Firmar URL temporal": {
        "cmd": "gcloud storage sign-url {src} --duration={duration}",
        "params": ["src", "duration"]
      },
      "Firmar URL temporal avanzada": {
        "cmd": "gcloud storage sign-url {src} --duration={duration} --http-method={method} --credentials-file={creds}",
        "params": ["src", "duration", "method", "creds"]
      }
    }
  },

  "IAM / Seguridad": {
    "üîé Consulta": {
      "Ver IAM de bucket": {
        "cmd": "gcloud storage buckets get-iam-policy {bucket}",
        "params": ["bucket"]
      },
      "Ver IAM de objeto": {
        "cmd": "gcloud storage objects get-iam-policy {object}",
        "params": ["object"]
      }
    },
    "‚ûï Asignaci√≥n": {
      "A√±adir IAM a bucket": {
        "cmd": "gcloud storage buckets add-iam-policy-binding {bucket} --member={member} --role={role}",
        "params": ["bucket", "member", "role"]
      },
      "A√±adir IAM a objeto": {
        "cmd": "gcloud storage objects add-iam-policy-binding {object} --member={member} --role={role}",
        "params": ["object", "member", "role"]
      },
      "A√±adir IAM condicional a bucket": {
        "cmd": "gcloud storage buckets add-iam-policy-binding {bucket} --member={member} --role={role} --condition={condition}",
        "params": ["bucket", "member", "role", "condition"]
      }
    },
    "‚ûñ Revocaci√≥n": {
      "Quitar IAM de bucket": {
        "cmd": "gcloud storage buckets remove-iam-policy-binding {bucket} --member={member} --role={role}",
        "params": ["bucket", "member", "role"]
      },
      "Quitar IAM de objeto": {
        "cmd": "gcloud storage objects remove-iam-policy-binding {object} --member={member} --role={role}",
        "params": ["object", "member", "role"]
      }
    },
    "‚öôÔ∏è Gesti√≥n avanzada": {
      "Establecer IAM desde archivo": {
        "cmd": "gcloud storage buckets set-iam-policy {bucket} {policy_file}",
        "params": ["bucket", "policy_file"]
      },
      "Usar clave de encriptaci√≥n (CMEK)": {
        "cmd": "gcloud storage buckets update {bucket} --default-encryption-key={kms_key}",
        "params": ["bucket", "kms_key"]
      },
      "Quitar clave de encriptaci√≥n": {
        "cmd": "gcloud storage buckets update {bucket} --clear-default-encryption-key",
        "params": ["bucket"]
      },
      "Probar permisos IAM en bucket": {
        "cmd": "gcloud storage buckets test-iam-permissions {bucket} {permissions}",
        "params": ["bucket", "permissions"]
      }
    }
  },

  "Operaciones globales": {
    "üîé Consulta": {
      "Listar configuraci√≥n actual": {
        "cmd": "gcloud config list",
        "params": []
      },
      "Listar operaciones": {
        "cmd": "gcloud storage operations list",
        "params": []
      }
    },
    "üì§ Gesti√≥n": {
      "Copiar recursivo": {
        "cmd": "gcloud storage cp -r {src} {dest}",
        "params": ["src", "dest"]
      },
      "Eliminar recursivo": {
        "cmd": "gcloud storage rm -r {src}",
        "params": ["src"]
      },
      "Comparar buckets": {
        "cmd": "gcloud storage diff gs://{bucket1} gs://{bucket2}",
        "params": ["bucket1", "bucket2"]
      }
    },
    "‚ùå Control": {
      "Cancelar operaci√≥n": {
        "cmd": "gcloud storage operations cancel {operation_id}",
        "params": ["operation_id"]
      }
    },
    "‚öôÔ∏è Configuraci√≥n": {
      "Cambiar proyecto activo": {
        "cmd": "gcloud config set project {project}",
        "params": ["project"]
      },
      "Definir configuraci√≥n por defecto (storage)": {
        "cmd": "gcloud config set storage/{property} {value}",
        "params": ["property", "value"]
      }
    }
  },

  "Transferencias": {
    "üîé Consulta": {
      "Listar transferencias": {
        "cmd": "gcloud transfer jobs list",
        "params": []
      }
    },
    "üì§ Creaci√≥n": {
      "Crear transferencia entre buckets": {
        "cmd": "gcloud transfer jobs create gs://{src_bucket} gs://{dest_bucket} --description={description} --schedule-starts=NOW",
        "params": ["src_bucket", "dest_bucket", "description"]
      }
    },
    "üìù Modificaci√≥n": {
      "Actualizar transferencia": {
        "cmd": "gcloud transfer jobs update {job_id} --status={status}",
        "params": ["job_id", "status"]
      }
    }
  }
}
